<% if (educational) { %>// File overview: Application entry point that loads environment variables and starts the HTTP server.
<% } %>
<% if (isEsm) { %><% if (educational) { %>// Load variables from .env before other modules read process.env values.
<% } %>import 'dotenv/config';

import app from './app.js';
import { getPort } from './utils/getPort.js';
<% } else { %><% if (educational) { %>// Load variables from .env before other modules read process.env values.
<% } %>require('dotenv').config();

const app = require('./app');
const { getPort } = require('./utils/getPort');
<% } %>

<% if (educational) { %>// Read the server port from PORT, defaulting to 3000 for local development.
<% } %>const port = getPort(process.env.PORT, 3000);

<% if (educational) { %>// Start the HTTP server and listen for incoming requests.
<% } %>app.listen(port, () => {
  console.log(`Server listening on port ${port}`);
});
